@model IEnumerable<MilkWayIndia.Models.ProductAssignVM>
<table id="example2" class="table table-bordered table-striped">
    @{int rowNo = 0;}
    <thead>
        <tr>
            <th width="20px">No</th>
            <th>Vendor Name</th>
            <th>Sector Name</th>
            <th>Attribute</th>
            <th>MRP</th>
            <th>Purchase Price</th>
            <th>Discount Price</th>
            <th>CGST</th>
            <th>SGST</th>
            <th>IGST</th>
            <th>Profit</th>
            <th>Sell Price</th>

            <th>B2B Profit</th>
            <th>B2B Price</th>
            @*<th></th>
            <th width="20px"></th>*@
            <th width="20px"></th>
        </tr>
    </thead>
    <tbody>

        @Html.Raw(ViewBag.AssignProduct)
        @*@if (ViewBag.lstProduct != null)
            {
                foreach (var drclient in ViewBag.lstProduct.Rows)
                {
        <tr>
            <td>@(rowNo += 1)</td>
            <td>@drclient["VendorName"]</td>
            <td>@drclient["SectorName"]</td>
            <td>@drclient["AttributeName"]</td>
            <td>@drclient["MRPPrice"]</td>
            <td>@drclient["PurchasePrice"]</td>
            <td>@drclient["DiscountPrice"]</td>
            <td>@drclient["CGST"]</td>
            <td>@drclient["SGST"]</td>
            <td>@drclient["IGST"]</td>
            <td>@drclient["Profit"]</td>
            <td>@drclient["SellPrice"]</td>
            <td>@drclient["B2BProfit"]</td>
            <td>@drclient["B2BSellPrice"]</td>

            <td>

               @* onclick="GetEditAttribute('@drclient["ID"]');"*@

        @*@if (!string.IsNullOrEmpty(drclient["Active1"].ToString()))
        {
            if (drclient["Active1"].ToString() == "True")
            {
                <button class="btn label label-success btnStatus" id="@drclient["Id1"]" data-rel="@drclient["Id1"]" data-url="/Attribute/status?ID=@drclient["Id1"]" type="button"> Active</button>
            }
            else
            {
                <button class="btn label label-danger btnStatus" id="@drclient["Id1"]" data-rel="@drclient["Id1"]" data-url="/Attribute/status?ID=@drclient["Id1"]" type="button"> InActive</button>
            }
        }
        </td>

<td>
                <a href="/Attribute/EditAttribute/@drclient["ID"]"  class="btn-bootstrap-dialog" ><i class="fa fa-edit"></i></a>
            </td>
            <td>
                <a href="/Attribute/DeleteProduct/@drclient["ID"]" onclick="return confirm('Are you sure you want to delete this Data?');"><i class="fa fa-trash-o"></i></a>
            </td>
        </tr>*@
            @*}
        }*@
    </tbody>
</table>
<script>
    $(document).ready(function () {
        $('#example2').DataTable({
            "paging": true,
            "lengthChange": true,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false
            
            
        });
    });


    
        $("#example2").on("click", ".btnStatus", function () {
            var url = $(this).data('url');
            var ID = $(this).data('rel');
            $('#' + ID).removeClass('label-success');
            $('#' + ID).removeClass('label-danger');
            $(this).prop('disabled', true);
            $.get(url, function (data) {
                if (data.status == "1") {
                    $('#' + ID).addClass(data.class);
                    $('#' + ID).html(data.name);
                }
            });
            $('.btnStatus').prop('disabled', false);
            return false;
        });
   
    //$('#example1').DataTable({
    //    "paging": true,
    //    "lengthChange": true,
    //    "searching": true,
    //    "ordering": true,
    //    "info": true,
    //    "autoWidth": false,
    //    "destroy": true
    //});

    //$(function () {
    //    $('#example1').DataTable({
    //        "paging": true,
    //        "lengthChange": true,
    //        "searching": true,
    //        "ordering": true,
    //        "info": true,
    //        "autoWidth": false,
    //        "destroy": true
    //    });
    //});
</script>
